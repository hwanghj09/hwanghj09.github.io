<!DOCTYPE html>
<html>
<head>
  <title>불꽃 실험</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      font-size: 22px;
      font-weight: bold;
    }
    .fire-container {
      position: relative;
      width: 300px;
      height: 200px;
      margin-bottom: 20px;
    }
    .fire {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 500%;
      background: linear-gradient(to top, #ff8000, #ffc000);
      border-radius: 50% 50% 0 0;
      animation: flame 1s ease-in-out infinite;
      cursor: move;
      /* 수정된 부분: 터치 이벤트 활성화 */
      touch-action: manipulation;
    }
    @keyframes flame {
      0% {
        height: 70%;
      }
      50% {
        height: 65%;
      }
      100% {
        height: 70%;
      }
    }
    .button {
      padding: 10px 20px;
      font-size: 18px;
      background-color: #9ec6b1;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      /* 수정된 부분: 터치 이벤트 활성화 */
      touch-action: manipulation;
    }
    .input-container {
      position: relative;
      margin-bottom: 80px; /* 수정된 부분: input 아래 여백 증가 */
    }
    select {
      padding: 10px;
      font-size: 18px;
      border: 2px solid #ccc;
      border-radius: 4px;
      /* 수정된 부분: 터치 이벤트 활성화 */
      touch-action: manipulation;
    }
  </style>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5627293747027982"
  crossorigin="anonymous"></script>
</head>
<body>
  <div class="fire-container">
    <div class="fire"></div>
  </div>

  <div class="input-container">
    <select id="select-input" onchange="updateFireColor()" ontouchstart="handleTouchStart(event)" ontouchmove="handleTouchMove(event)" ontouchend="handleTouchEnd(event)">
      <option value="">원소 기호를 선택하세요.</option>
      <option value="Li">Li</option>
      <option value="Na">Na</option>
      <option value="Ca">Ca</option>
      <option value="Cu">Cu</option>
      <option value="K">K</option>
      <option value="Sr">Sr</option>
      <option value="Ba">Ba</option>
    </select>
  </div>

  <button class="button" onclick="goToMain()" ontouchstart="handleTouchStart(event)" ontouchend="handleTouchEnd(event)">돌아가기</button>

  <script>
    const selectInputElement = document.getElementById('select-input');
    const fireElement = document.querySelector('.fire');

    // 수정된 부분: 터치 이벤트 핸들러 추가
    let touchIdentifier = null;

    function handleTouchStart(event) {
      if (event.changedTouches.length > 0) {
        const touch = event.changedTouches[0];
        touchIdentifier = touch.identifier;
      }
    }

    function handleTouchMove(event) {
      if (touchIdentifier !== null) {
        const touch = Array.from(event.changedTouches).find(t => t.identifier === touchIdentifier);
        if (touch) {
          event.preventDefault();
          updateFireColor();
        }
      }
    }

    function handleTouchEnd(event) {
      if (touchIdentifier !== null) {
        const touch = Array.from(event.changedTouches).find(t => t.identifier === touchIdentifier);
        if (touch) {
          touchIdentifier = null;
        }
      }
    }

    function updateFireColor() {
      const selectedValue = selectInputElement.value;
      if (selectedValue === 'Li') {
        fireElement.style.background = 'red';
      } else if (selectedValue === 'Na') {
        fireElement.style.background = 'yellow';
      } else if (selectedValue === 'Ca') {
        fireElement.style.background = 'purple';
      } else if (selectedValue === 'Cu') {
        fireElement.style.background = 'teal';
      } else if (selectedValue === 'K') {
        fireElement.style.background = 'orange';
      } else if (selectedValue === 'Sr') {
        fireElement.style.background = 'red';
      } else if (selectedValue === 'Ba') {
        fireElement.style.background = 'lime';
      } else {
        fireElement.style.background = 'linear-gradient(to top, #ff8000, #ffc000)';
      }
    }

    function goToMain() {
      window.location.href = 's-index-m.html';
    }
  </script>
</body>
</html>
